# Title

On Merits and Viability of Multi-Cloud Serverless

## Website
https://doi.org/10.1145/3472883.3487002

## Citing

@inproceedings{10.1145/3472883.3487002,
author = {Baarzi, Ataollah Fatahi and Kesidis, George and Joe-Wong, Carlee and Shahrad, Mohammad},
title = {On Merits and Viability of Multi-Cloud Serverless},
year = {2021},
booktitle = {Proceedings of the ACM Symposium on Cloud Computing},
pages = {600–608},
numpages = {9},
keywords = {serverless, multi-cloud, cloud computing},
series = {SoCC '21}
}

## Brief Introduction

对于无服务器计算，提出了一种虚拟无服务器供应商（VSP）的构想，将来自不同供应商的无服务器服务进行整合，自适应地选择当前时间段最优供应商，以解决供应商锁定问题，倒逼供应商提高服务性价比。初步的测试结果中，VSP 能使吞吐率提高1.2倍到4.2倍，减少98.8% SLO 违反率，成本改善最高达54%。

## Key Methodology

1. 优势

	 - 成本控制与服务方案选择
	
	   根据供应商在请求数、额外存储量、存储结算方式（动态 / 静态）等收费指标，以及函数存活策略等指标，结合应用特点自适应地选择供应商，并使用实时的监测数据，当某个供应商降速时自适应地调整函数请求在供应商之间的分布。
	
	- 供应商优势融合
	
	   在可扩展性上，不同的供应商有不同的扩展速率与模式，也存在着可扩展上限。在不同供应商之间并行部署可以提高该上限。并且，由于供应商每个月会有免费额度，因此 VSP 可以将这些免费额度进行组合并有效利用。
	
	- 有利于边缘计算
	
	   VSP 根据数据来源安排计算节点，使两者尽可能接近，使数据的跨地区迁移开销最小。
	
2. 可行性

   - fast dispatch（快速分发？）
   
     函数的冷启动时间远远小于虚拟机，虚拟机层面的跨供应商系统为了将内容进行平滑地转移，需要缓存虚拟机镜像或者保持一定数量的备份虚拟机。而 VSP 则不需要镜像缓存，也可以凭借极短的冷启动时间达到低延迟的效果。
   
   - 供应商透明
   
     无服务器服务经常与云供应商旗下的其他云服务进行绑定，从而造成了服务层面上的供应商锁定问题。基于现有的防止 API 级别锁定的工具与框架（如 Serverless Framework、Gloo等），结合 TriggerMesh EveryBridge 等可以用于混合云的、跨云处理事件并触发函数的系统，文章认为有希望通过实现无缝跨云桥接使函数可以利用其他云上的服务，从而实现供应商透明。
   
3. 预期结构
   
   - 性价比驱动的调度器
   
     在考虑资源限制等其他限制规则的前提下，使用性能参数与成本来选择合适的（若干可选的）供应商以及所在地区。
   
   - 控制器
   
     基于调度器的选择，建立应用请求到供应商的映射，在多个供应商之间起到一个负载均衡的作用。
   
   - 事件桥
   
     用于跨云事件的产生与处理（sourcing and consumption）。
   
   - 性能检测
   
     记录运行于不同供应商上的函数的性能指标（延迟、执行时间），在出现异常时触发调度器。
   
    - 预加载
   
      当调度器识别到新的 供应商 / 地区 时，该模块执行应用函数的初始化与调用（warm up），以减少因冷启动导致的延迟。
   
    - 缓存
   
      减少重复调用、在维持运算的情况下加速数据的跨供应商转移。
   
    - 身份验证与计费
   


## Data sets & Experimental Design

实验环境：控制器：m4.2xlarge with 4 vCPU

比较方面：端到端延迟、函数执行成本

1. 提高并发限制

   实验对象：Google Cloud Functions、AWS Lambda，两者分别 & 混合处理（即 VSP ）不同应用函数

   实验结果：VSP 的最大持续吞吐率最高

2. 延迟敏感的部署方案

   实验对象：单供应商（GCP）、轮询负载均衡的 VSP、延迟敏感负载均衡的 VSP

   实验结果：在突发异常（函数执行延迟突然增大）的情况下，延迟敏感的 VSP 的端到端延迟没有发生变化

3. 成本改善

   实验对象：单供应商、无视成本的 VSP、延迟-成本敏感的 VSP

   实验结果：延迟-成本敏感的 VSP 能同时降低端到端延迟、成本。


## Conclusion And Future Work

该论文提出了一种尚待完善的 VSP 构想，目前还面临许多技术问题，比如如何解决供应商锁定、在多个供应商之间维持数据的一致性存储等。这个构想确实能引起无服务用户的兴趣，但是难以解决与云供应商的矛盾，不过作为初学者了解“无服务器”这个概念来讲还是挺好的。
